<!doctype html>
<html>
<head>
    <title>Automod Builder</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/theme-cosmo.min.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap-tagsinput.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" />
    <link rel="stylesheet" type="text/css" href="css/custom.css" />

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-tagsinput.min.js"></script>
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    <script type="text/javascript" src="js/custom.js"></script>
    <script type="text/javascript" src="js/demo.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div class="container-fluid">

        <!-- TODO
        https://www.reddit.com/wiki/automoderator/full-documentation

        placeholders
            {{author}} - the author's name (do /u/{{author}} for a link to the author's user page)
            {{author_flair_text}} - the author's flair text (will be replaced with nothing if they have no flair set, or have it disabled)
            {{author_flair_css_class}} - the author's flair CSS class (will be replaced with nothing if they have no flair set, or have it disabled)
            {{author_flair_template_id}} - the author's template id (will be replaced with nothing if they have no flair set, or have it disabled)
            {{body}} - the full body text of the text submission or comment
            {{permalink}} - a link to the item
            {{subreddit}} - the subreddit's name (do /r/{{subreddit}} for a link to the subreddit)
            {{kind}} - replaced with "submission" for submissions or "comment" for comments
            {{title}} - the submission's title
            {{domain}} - the submission's domain
            {{url}} - the submission's full url

        media placeholders
            {{media_author}} - the media's author username
            {{media_author_url}} - the media's author url
            {{media_title}} - the media's title
            {{media_description}} - the media's description
        -->

        <!-- jumbotron -->
        <div class="row">
            <div class="col">
                <div class="jumbotron">
                    <h1 class="display-4">Automod Builder</h1>
                    <p class="lead">Use this simple tool to generate syntax-valid rules for your subreddit's Automoderator</p>
                </div>
            </div>
        </div>
        <!-- .jumbotron -->

        <!-- rules -->
        <div class="row">
            <div class="col">
                <ul class="list-group" id="rules">
                    <li class="list-group-item rules-item2">
                        <div class="form-row">

                            <div class="form-group col-2 text-center">
                                <!-- Row modification buttons -->
                                <div class="btn-group">
                                    <button type="button" class="form-control btn btn-warning" data-item-btn="edit"><i class="fas fa-fw fa-edit"></i></button>
                                    <button type="button" class="form-control btn btn-danger" data-item-btn="delete"><i class="fas fa-fw fa-trash"></i></button>
                                </div>
                            </div>

                            <div class="form-group">
                                <!-- Title input -->
                                <input class="form-control rules-item-title" placeholder="Enter a descriptive title" />
                            </div>

                            <div class="form-group">
                                <!-- Conditions -->
                                <ul class="rule-conditions list-group">
                                </ul>
                                <button type="button" class="btn btn-primary new-condition-modal"><i class="fas fa-plus"></i>&nbsp;New Condition</button>
                            </div>

                            <div class="form-group">
                                <!-- Actions -->
                                <ul class="rule-actions list-group">
                                </ul>
                                <button type="button" class="btn btn-primary"><i class="fas fa-plus"></i>&nbsp;New Action</button>
                            </div>

                        </div>
                    </li>
                </ul>
                <!-- <button class="btn btn-primary btn-block mt-2" type="button" id="new-rule-modal"><i class="fas fa-plus"></i>&nbsp;Add New Rule</button>
                <button class="btn btn-primary btn-block mt-1 new-condition-modal" type="button" data-target="modal-new-condition"><i class="fas fa-plus"></i>&nbsp;Add New Condition</button> -->
            </div>
        </div>
        <!-- .rules -->

        <!-- modals -->
        <!-- modal-new-rule -->
        <div class="modal fade" id="modal-new-condition" tabindex="-1" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">New Condition</h3>
                    </div>

                    <div class="modal-body mp-0">
                        <!-- Steps starts here -->
                        <div class="requestwizard">
                            <div class="setup-panel row">
                                <div class="requestwizard-step /* col-4 */ col-6">
                                    <a href="#condition-step-1" class="btn btn-nav btn-primary btn-circle"><i class="fas fa-th-list"></i></a>
                                    <p class="mt-2">Choose Type</p><!-- search, boolean, author meta -->
                                </div>
                                <div class="requestwizard-step /* col-4 */ col-6">
                                    <a href="#condition-step-2" class="btn btn-nav btn-default btn-circle" disabled="disabled"><i class="fas fa-wrench"></i></a>
                                    <p class="mt-2">Configure</p>
                                </div>
                                <!-- <div class="requestwizard-step col-4">
                                    <a href="#condition-step-3" class="btn btn-nav btn-default btn-circle" disabled="disabled"><i class="far fa-check-square"></i></a>
                                    <p class="mt-2">Summary</p>
                                </div> -->
                            </div>
                        </div>
                    </div>

                    <div class="setup-content" id="condition-step-1">
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="setup-selection-cont col-xs-12 col-sm-4 mb-2" data-selection="search">
                                            <div class="setup-selection" data-check>
                                                <i class="fas fa-search"></i>
                                                <div class="label">Search</div>
                                                <small class="label-meta">Search keywords/regex in the domain, url, title, body, and author's username</small>
                                            </div>
                                        </div>
                                        <div class="setup-selection-cont col-xs-12 col-sm-4 mb-2" data-selection="author">
                                            <div class="setup-selection" data-check>
                                                <i class="fas fa-user"></i>
                                                <div class="label">Author</div>
                                                <small class="label-meta">Match conditions against author karma, account age, gold status, and moderator status</small>
                                            </div>
                                        </div>
                                        <div class="setup-selection-cont col-xs-12 col-sm-4 mb-2" data-selection="post">
                                            <div class="setup-selection" data-check>
                                                <i class="fas fa-link"></i>
                                                <div class="label">Post/Comment</div>
                                                <small class="label-meta">Match against number of reports, body length, if the post is OC, and top level comments</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary pull-right" data-dismiss="modal">Cancel</button>
                            <button class="btn btn-primary nextBtn pull-right setup-btn" type="button" disabled>Next</button>
                        </div>
                    </div>

                    <div class="setup-content" id="condition-step-2">
                        <div class="modal-body" data-selection-content="search">
                            <label class="d-block text-center">Match this search against:</label>

                            <small class="d-flex flex-row justify-content-center">
                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                    <input type="checkbox" class="custom-control-input match-domain" id="match-domain" data-check />
                                    <label class="custom-control-label" for="match-domain">Domain</label>
                                </div>
                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                    <input type="checkbox" class="custom-control-input match-domain" id="match-url" data-check />
                                    <label class="custom-control-label" for="match-url">URL</label>
                                </div>
                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                    <input type="checkbox" class="custom-control-input match-domain" id="match-title" data-check />
                                    <label class="custom-control-label" for="match-title">Title</label>
                                </div>
                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                    <input type="checkbox" class="custom-control-input match-domain" id="match-body" data-check />
                                    <label class="custom-control-label" for="match-body">Body</label>
                                </div>
                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                    <input type="checkbox" class="custom-control-input match-domain" id="match-username" data-check />
                                    <label class="custom-control-label" for="match-username">Username</label>
                                </div>
                            </small>

                            <hr />

                            <!-- Search -->
                            <div class="check-cont" data-type="search">
                                <div class="row">
                                    <div class="col-xs-12 col-md-6">
                                        <div class="form-group mt-2">
                                            <select class="form-control hf" id="search-matchtype" data-check >
                                                <option value="includes-word">includes-word</option>
                                                <option value="includes" selected>includes</option>
                                                <option value="starts-with">starts-with</option>
                                                <option value="ends-with">ends-with</option>
                                                <option value="full-exact">full-exact</option>
                                            </select>
                                            <small class="text-muted d-flex flex-row mt-2 justify-content-center">
                                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                                    <input type="checkbox" class="custom-control-input" id="search-inverse" data-check />
                                                    <label class="custom-control-label" for="search-inverse">Inverse</label>
                                                </div>
                                                <div class="custom-control custom-checkbox custom-checkbox-inline mr-2">
                                                    <input type="checkbox" class="custom-control-input" id="search-casesensitive" data-check />
                                                    <label class="custom-control-label" for="search-casesensitive">Case-sensitive</label>
                                                </div>
                                                <div class="custom-control custom-checkbox custom-checkbox-inline">
                                                    <input type="checkbox" class="custom-control-input" id="search-regex" data-check />
                                                    <label class="custom-control-label" for="search-regex">RegEx</label>
                                                </div>
                                            </small>
                                        </div>
                                    </div>

                                    <!-- Search Input -->
                                    <div class="col-xs-12 col-md-6">
                                        <div class="form-group mt-2" id="search-input-simple-cont">
                                            <input type="text" class="form-control" id="search-input-simple" data-role="tagsinput" data-check />
                                            <small class="form-text text-muted">The rule will be applied to submissions which include the above keywords</small>
                                            <small class="form-text text-muted">Enter title match strings and press return, e.g. <code>shitpost</code>, <code>buzzfeed</code></small>
                                        </div>
                                        <div class="form-group mt-2" id="search-input-regex-cont">
                                            <textarea class="form-control" id="search-input-regex" rows=5 data-check ></textarea>
                                            <small class="form-text text-muted">The rule will be applied to submissions which include the above regular expressions</small>
                                            <small class="form-text text-muted">This is specifically for regex matches - place each rule on a new line, e.g. <code>number \d will [fool|astound|astonish] [you|u]!+</code></small>
                                        </div>
                                    </div>
                                    <!-- ./Search Input -->

                                </div>
                            </div>
                        </div>
                        <!-- ./Search -->

                        <!-- Author -->
                        <div class="modal-body" data-selection-content="author">
                            <div class="row">

                                <ul data-cont="author-cont" class="col-xs-12 col-md-4 setup-overview list-group list-group-flush mb-2" id="author-selection">
                                    <li data-check data-selection="author-karma" class="list-group-item">Account Karma<small class="d-block">Search operators against total karma</small></li>
                                    <li data-check data-selection="author-age" class="list-group-item">Account Age<small class="d-block">Search operators against time since account creation</small></li>
                                    <li data-check data-selection="author-type-gold" class="list-group-item">Gold Status<small class="d-block">Boolean whether user has Gold subscription</small></li>
                                    <li data-check data-selection="author-type-mod" class="list-group-item">Mod Status<small class="d-block">Boolean whether user is a mod of your subreddit</small></li>
                                </ul>

                                <div class="col-xs-12 col-md-8">
                                    <div class="check-cont" data-type="author">

                                        <!-- Karma -->
                                        <div class="author-cont d-none" id="author-karma-cont">
                                                <label for="author-karma-value" >Account Karma</label>
                                                <div class="d-flex align-items-center">
                                                <div class="p-2">
                                                    <select class="form-control" id="author-karma-logic" data-check>
                                                        <option value=">">></option>
                                                        <option value=">=">>=</option>
                                                        <option value="<="><=</option>
                                                        <option value="<"><</option>
                                                    </select>
                                                </div>
                                                <div class="p-2">
                                                    <input type="number" class="form-control" placeholder=0 id="author-karma-value" data-check />
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Age -->
                                        <div class="author-cont d-none" id="author-age-cont">
                                                <label for="author-age-value" >Account Age (days)</label>
                                                <div class="d-flex align-items-center">
                                                <div class="p-2">
                                                    <select class="form-control" id="author-age-logic" data-check >
                                                        <option value=">">></option>
                                                        <option value=">=">>=</option>
                                                        <option value="<="><=</option>
                                                        <option value="<"><</option>
                                                    </select>
                                                </div>
                                                <div class="p-2">
                                                    <input type="number" class="form-control" placeholder=0 id="author-age-value" data-check />
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Gold Status -->
                                        <div class="author-cont d-none" id="author-type-gold-cont">
                                            <div class="d-flex align-items-center p-2" data-type="author-type-gold">
                                                <div class="custom-control custom-checkbox custom-checkbox-inline">
                                                    <input type="checkbox" class="custom-control-input" id="author-type-gold" data-check />
                                                    <label class="custom-control-label" for="author-type-gold">Only applies to users with Gold membership</label>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Mod Status -->
                                        <div class="author-cont d-none" id="author-type-mod-cont">
                                            <div class="d-flex align-items-center p-2" data-type="author-type-mod">
                                                <div class="custom-control custom-checkbox custom-checkbox-inline">
                                                    <input type="checkbox" class="custom-control-input" id="author-type-mod" data-check />
                                                    <label class="custom-control-label" for="author-type-mod">Only applies to moderators of the sub</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <!-- ./Author -->

                        <!-- Post/Comment Meta -->
                        <div class="modal-body" data-selection-content="post">
                            <div class="row">

                                <ul data-cont="post-cont" class="col-xs-12 col-md-4 setup-overview list-group list-group-flush mb-2" id="post-selection">
                                    <li data-check data-selection="post-reports" class="list-group-item">Reports<small class="d-block">Fire when enough reports are made on this submission</small></li>
                                    <li data-check data-selection="post-length" class="list-group-item">Body Length<small class="d-block">Search operators against length of text in body</small></li>
                                    <li data-check data-selection="post-oc" class="list-group-item">OC Status<small class="d-block">Boolean whether the post is marked as OC</small></li>
                                    <li data-check data-selection="post-toplevel" class="list-group-item">Top-Level Comments<small class="d-block">Boolean whether the comment is top-level</small></li>
                                </ul>

                                <div class="col-xs-12 col-md-8">
                                    <div class="check-cont" data-type="post">

                                        <!-- Reports -->
                                        <div class="post-cont d-none" id="post-reports-cont">
                                            <label for="post-reports-value" >Number of reports</label>
                                            <div class="d-flex align-items-center">
                                                <div class="p-2">
                                                    <input type="number" class="form-control" placeholder=0 id="post-reports-value" data-check />
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Body Length -->
                                        <div class="post-cont d-none" id="post-length-cont">
                                            <label for="post-length-value" >Body length</label>
                                            <div class="d-flex align-items-center">
                                                <div class="p-2">
                                                    <select class="form-control" id="post-length-logic" data-check >
                                                        <option value=">">></option>
                                                        <option value=">=">>=</option>
                                                        <option value="<="><=</option>
                                                        <option value="<"><</option>
                                                    </select>
                                                </div>
                                                <div class="p-2">
                                                    <input type="number" class="form-control" placeholder=0 id="post-length-value" data-check />
                                                </div>
                                            </div>
                                        </div>

                                        <!-- OC Status -->
                                        <div class="post-cont d-none" id="post-oc-cont">
                                            <div class="d-flex align-items-center p-2" data-type="post-oc">
                                                <div class="custom-control custom-checkbox custom-checkbox-inline">
                                                    <input type="checkbox" class="custom-control-input" id="post-oc" data-check />
                                                    <label class="custom-control-label" for="post-oc">Only applies to posts marked as OC</label>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Top-Level Comments -->
                                        <div class="post-cont d-none" id="post-toplevel-cont">
                                            <div class="d-flex align-items-center p-2" data-type="post-toplevel">
                                                <div class="custom-control custom-checkbox custom-checkbox-inline">
                                                    <input type="checkbox" class="custom-control-input" id="post-toplevel" data-check />
                                                    <label class="custom-control-label" for="post-toplevel">Only applies to top-level comments</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                        <!-- ./Post/Comment Meta -->

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary pull-right" data-dismiss="modal">Cancel</button>
                            <button class="btn btn-primary setup-btn finishBtn pull-right" type="button" disabled>Finish</button>
                        </div>
                    </div>

                    <div class="setup-content" id="condition-step-3">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary pull-right" data-dismiss="modal">Cancel</button><button class="btn btn-success finishBtn pull-right" type="button">Finish</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>        
    </div>
</body>
</html>
